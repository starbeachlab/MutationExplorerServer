{% extends "base.html" %}

{% block head %}
{{super()}}
<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='css/submitStyle.css')}}" media="all">
{% endblock %}

{% block title %} {{super()}} hallo {% endblock %}

{% block header %}
  {{super()}}
{% endblock %}
  
{% block content %}
<section>
    <center>
             <div id="submit" class="contentBody">
            <h2>Superimposition</h2>
            <form action="http://proteinformatics.uni-leipzig.de/mutation_explorer/superx" method="POST" enctype="multipart/form-data" id="superform">

	      <div class="inputField">
		<p> Upload first PDB file </p>
		<input type="file" name="pdb_1">
	      </div>
	      
	      <div class="inputField">
		<p> Select chain from first PDB: </p>
		<input class="input" id="chain_1" name="chain_1" type="text" >
	      </div>

	      <div class="inputField">
		<p> Enter the number of the sequence in the alignment matching the chain in the first PDB (0 for first sequence in the alignment ...) </p>
		<input class="input" id="seqid_1" name="seqid_1" type="number" >
	      </div>

	      <div class="inputField">
		<p> Upload second PDB file </p>
		<input type="file" name="pdb_2">
	      </div>
	      
	      <div class="inputField">
		<p> Select chain from second PDB: </p>
		<input class="input" id="chain_2" name="chain_2" type="text" >
	      </div>

	      <div class="inputField">
		<p> Enter the number of the sequence in the alignment matching the chain in the second PDB (0 for first sequence in the alignment ...) </p>
		<input class="input" id="seqid_2" name="seqid_2" type="number" >
	      </div>

	      <div class="inputField">
		<p> Upload an alignment in Clustal format </p>
		<input type="file" name="ali">
	      </div>
	      

	      <div id="submitError" style="margin-top: 50px; text-align: center; font-size: x-large; color: red;">{{error_str}}</div>
		    
              <div class="inputField">
		<input id="submitbtn" name="submit" type="submit" value="Display superimposed PDB" />
	      </div>

            </form>

	    <h3> About the visualization </h3>
	    
	    <p> It may take something like 10s to build the visualization. </p>

	    <p> The PDB is colored analogous to a heat scale by sequence conservation. Blue colored regions in the structure indicate no sequence conservation. Red indicates fully conserved positions in the alignment. </p>
	    <p style="color:#8b0000 "><b> Please note that chains that are not in the alignment will also be colored blue! </b> </p>
	    <p> Pairwise alignments will obviously be blue/red (mutated/conserved). </p>
	    <p> It is crucial that the sequences from PDB/CHAIN match with ALIGNMENT/NR-SEQ. Otherwise the algorithm will fail.</p>
	    <br>
        </div>
	<br><br>
    </center>
</section>
{% endblock %}

{% block scripts %}
{{super()}}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.0/jquery.validate.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-validate/1.19.2/additional-methods.js"></script>

<script type="text/javascript">

    var file;
    
    $(document).ready(function() {

    });

    
</script>
{% endblock %}
